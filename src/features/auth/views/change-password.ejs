<!DOCTYPE html>
<html lang="vi">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title><%= title || 'Đổi mật khẩu' %></title>
	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<link href="/public/stylesheets/style.css" rel="stylesheet">
	<style>
		/* Small page-specific tweaks following COLOR_GUIDELINES */
		.change-card { border-radius: 12px; box-shadow: 0 8px 24px rgba(2,6,23,0.06); }
		.change-card .card-header { background: var(--white); border-bottom: none; }
		.btn-primary-custom { background-color: var(--button-primary); border-color: var(--button-primary); color: var(--white); }
		.btn-cancel-custom { background-color: var(--button-danger); border-color: var(--button-danger); color: var(--white); }
		.form-label { color: var(--dark-gray); }
	</style>
</head>
<body class="bg-light">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-md-7 col-lg-5">
				<div class="card mt-5 change-card">
					<div class="card-header text-center py-3">
						<h4 class="m-0" style="color:var(--primary-blue);">Đổi mật khẩu</h4>
						<small class="text-muted">Vui lòng nhập mật khẩu hiện tại và mật khẩu mới</small>
					</div>
					<div class="card-body">
						<% if (typeof errors !== 'undefined' && errors && errors.length) { %>
							<div class="alert alert-danger" role="alert">
								<ul class="mb-0">
									<% errors.forEach(function(err){ %>
										<li><%= err %></li>
									<% }) %>
								</ul>
							</div>
						<% } %>

						<% if (typeof success !== 'undefined' && success) { %>
							<div class="alert alert-success" role="alert">
								<%= success %>
							</div>
						<% } %>

						<form method="POST" action="/auth/change-password">
							<div class="mb-3">
								<label for="currentPassword" class="form-label">Mật khẩu hiện tại</label>
								<input type="password" class="form-control" id="currentPassword" name="currentPassword" placeholder="Nhập mật khẩu hiện tại" required>
							</div>

							<div class="mb-3">
								<label for="newPassword" class="form-label">Mật khẩu mới</label>
								<input type="password" class="form-control" id="newPassword" name="newPassword" placeholder="Tối thiểu 8 ký tự" required>
							</div>

							<div class="mb-3">
								<label for="confirmPassword" class="form-label">Xác nhận mật khẩu mới</label>
								<input type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder="Nhập lại mật khẩu mới" required>
							</div>

							<div class="d-flex gap-2">
								<button type="submit" class="btn btn-primary-custom w-100">Cập nhật mật khẩu</button>
								<a href="/profile" class="btn btn-cancel-custom w-100">Hủy</a>
							</div>
						</form>
					</div>
					<div class="card-footer text-center">
						<small class="text-muted">Mật khẩu nên bao gồm chữ hoa, chữ thường, số và ký tự đặc biệt để bảo mật tốt hơn.</small>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="/js/bootstrap.bundle.min.js"></script>
</body>
</html>
